<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <record id="open_academy" model="ir.ui.view">
          <field name="name">course.list</field>
          <field name="model">open_academy.course</field>
          <field name="arch" type="xml" >
              <tree string="course list">
              <field name="name"/>
              <field name="id_responsable" />

              </tree>
          </field>
          </record>

        <record model="ir.ui.view" id="course_form_view">
                      <field name="name">course.form</field>
                      <field name="model">open_academy.course</field>
                      <field name="arch" type="xml">
                      <form string="Course Form">
                      <sheet>
                                  <group>
                                      <field name="name"/>
                                      <field name="id_responsable"/>
                                  </group>
                                  <notebook>
                                       <page string="Descrición">
                                         <field name="description"/>
                                       </page>
                                  <page string="Sesiones">
                                  <field name="id_session">
                                          <tree string="Sessiones registradas">
                                            <field name="name"/>
                                            <field name="id_instructor"/>
                                          </tree>
                                     </field>
                                  </page>
                                  </notebook>
                      </sheet>
                      </form>
                      </field>
</record>


        <!--

        <record id="open_academy_view_kanban" model="ir.ui.view">
          <field name="name">open_academy.view.kanban</field>
          <field name="model">open_academy.course</field>
          <field name="arch" type="xml">
            <kanban>
              <templates>
                <t t-name="kanban-box">
                  <div>
                    <div>
                    <a type="edit"> <img t-att-src="kanban_image('object.name','photo')" /></a>


                    </div>


                
                  <div>
                      <ul>
                          <li> <field name="name" /></li>
                          <li> <field name="description" /></li>
                            </ul>
                      </div>

                  </div>
                </t>
              </templates>
            </kanban>
          </field>
        </record> -->


        <!--

        <record id="open_academy_view_kanban" model="ir.ui.view">
          <field name="name">open_academy.view.kanban</field>
          <field name="model">open_academy.course</field>
          <field name="arch" type="xml">
            <kanban>
              <templates>
                <t t-name="kanban-box">
                  <div>
                    <div>
                    <a type="edit"> <img t-att-src="kanban_image('object.name','photo')" /></a>


                    </div>


                
                  <div>
                      <ul>
                          <li> <field name="name" /></li>
                          <li> <field name="description" /></li>
                            </ul>
                      </div>

                  </div>
                </t>
              </templates>
            </kanban>
          </field>
        </record> -->

      <!-- Ejr. Action list -->  
        <record id="action_list" model="ir.actions.act_window">
          <field name="name">Course</field>
          <field name="res_model">open_academy.course</field>
          <field name="view_mode">tree,form</field>
          <field name="help" type='html'>
          <p class="view_recent">
          Crear el primer Curso
          </p>

          </field>    

        </record>
        
        <menuitem id="main_menu" name="Open Academy"/>
        <menuitem id="sub_main_menu" name="Open Academy" parent="main_menu" />
        <menuitem id="session_menu" name="Curso" parent="sub_main_menu" action="action_list"/>


<!-- Ejr. Sessions-M2O  -->

        <record model="ir.ui.view" id="session_view" >
            <field name="name">session.form</field>
            <field name="model">open_academy.session</field>
            <field name="arch" type="xml">
                <form string="Formulario de Sesiones">
                  <sheet>
           
                    <group string="Datos">
                      <field name="id_course" />
                      <field name="id_instructor" />
                      <field name="name" />
                    </group>
                    <group string="Programación">
                      <field name="start_date"/>
                      <field name="duration"/>
                      <field name="seats" />
                      <field name="seats_busy" />

                    </group>
                
                 
                  <group>
                  <field name="id_asistente" widget="many2many"/>
                    <!-- <field name="id_asistente" widget="many2many_tags"/> -->
                  </group>
                    
                  </sheet>
                </form> 
            </field>
        </record>

        <!-- ANADIDO EN MANY2ONE INICIO -->
      <record id="session_tree_view" model="ir.ui.view">
      <field name="name">session.tree</field>
      <field name="model">open_academy.session</field>
        <field name="arch" type="xml"> 
          <tree>
            <field name="name"/>
            <field name="id_course" />
            <field name="seats_busy" />          
          </tree>

    
      </field>
    
      </record>
        <!-- ANADIDO EN MANY2ONE  FIN -->

        <record model="ir.actions.act_window" id="session_list_action">
        <field name="name">Sessions</field>
        <field name="res_model">open_academy.session</field>
        <field name="view_mode">tree,form</field>
        </record>

        <!-- <menuitem id="session_menu" name="Sesiones" parent="course_menu_main" action="session_list"/> -->
        <menuitem
          id="session_menus"
          name="Sesiones"
          action="session_list_action"
          parent="sub_main_menu"/>


<!-- ejercicio de sessions fin   -->
</odoo>


